{"ast":null,"code":"import _defineProperty from \"@babel/runtime/helpers/defineProperty\";\nimport _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nfunction ownKeys(e, r) { var t = Object.keys(e); if (Object.getOwnPropertySymbols) { var o = Object.getOwnPropertySymbols(e); r && (o = o.filter(function (r) { return Object.getOwnPropertyDescriptor(e, r).enumerable; })), t.push.apply(t, o); } return t; }\nfunction _objectSpread(e) { for (var r = 1; r < arguments.length; r++) { var t = null != arguments[r] ? arguments[r] : {}; r % 2 ? ownKeys(Object(t), !0).forEach(function (r) { _defineProperty(e, r, t[r]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(t)) : ownKeys(Object(t)).forEach(function (r) { Object.defineProperty(e, r, Object.getOwnPropertyDescriptor(t, r)); }); } return e; }\nimport React, { useState } from 'react';\nimport axios from 'axios';\nimport { loginAction } from '../redux/actions/action';\nimport { useNavigate } from 'react-router-dom';\nimport { TextField, Button, Typography, Box, Grid } from '@mui/material';\nimport { ToastContainer, toast } from 'react-toastify';\nimport 'react-toastify/dist/ReactToastify.css';\nimport { useDispatch, useSelector } from 'react-redux';\nconst LoginForm = () => {\n  const navigate = useNavigate();\n  const dispatch = useDispatch();\n  const authState = useSelector(state => state.loginReducer.user);\n  console.log(localStorage.getItem('token'));\n  console.log(localStorage.getItem('userType'));\n  console.log(localStorage.getItem('username'));\n  console.log(\"login data\", authState);\n  const _useState = useState({\n      email: '',\n      password: ''\n    }),\n    _useState2 = _slicedToArray(_useState, 2),\n    formData = _useState2[0],\n    setFormData = _useState2[1];\n  const _useState3 = useState({\n      email: '',\n      password: ''\n    }),\n    _useState4 = _slicedToArray(_useState3, 2),\n    errors = _useState4[0],\n    setErrors = _useState4[1];\n  const handleInputChange = e => {\n    const _e$target = e.target,\n      name = _e$target.name,\n      value = _e$target.value;\n    setFormData(_objectSpread(_objectSpread({}, formData), {}, {\n      [name]: value\n    }));\n    setErrors(_objectSpread(_objectSpread({}, errors), {}, {\n      [name]: ''\n    }));\n  };\n  const handleSubmit = async e => {\n    e.preventDefault();\n    let formIsValid = true;\n    const newErrors = {\n      email: '',\n      password: ''\n    };\n    if (!formData.email.trim()) {\n      newErrors.email = 'Email is required';\n      formIsValid = false;\n    } else if (!/\\S+@\\S+\\.\\S+/.test(formData.email)) {\n      newErrors.email = 'Email is invalid';\n      formIsValid = false;\n    }\n    if (!formData.password.trim()) {\n      newErrors.password = 'Password is required';\n      formIsValid = false;\n    } else if (formData.password.length < 4) {\n      newErrors.password = 'Password must be at least 4 characters long';\n      formIsValid = false;\n    }\n    setErrors(newErrors);\n    if (formIsValid) {\n      console.log(\"form valid\");\n      dispatch(loginAction(formData, navigate));\n    }\n  };\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(Grid, {\n    container: true,\n    justifyContent: \"center\",\n    alignItems: \"center\",\n    sx: {\n      height: '100vh'\n    }\n  }, /*#__PURE__*/React.createElement(Grid, {\n    item: true,\n    xs: 12,\n    sm: 8,\n    md: 6,\n    lg: 3.5\n  }, /*#__PURE__*/React.createElement(Box, {\n    sx: {\n      boxShadow: '5px 4px 8px 5px rgba(0, 0, 0, 0.2)',\n      padding: '80px 30px',\n      borderRadius: '10px'\n    }\n  }, /*#__PURE__*/React.createElement(Box, {\n    sx: {\n      textAlign: 'center',\n      mb: '20px'\n    }\n  }, /*#__PURE__*/React.createElement(Typography, {\n    variant: \"h4\",\n    sx: {\n      fontWeight: '700',\n      color: '#EE8832'\n    }\n  }, \"Sign in\")), /*#__PURE__*/React.createElement(\"form\", {\n    onSubmit: handleSubmit\n  }, /*#__PURE__*/React.createElement(Box, {\n    mb: 3\n  }, /*#__PURE__*/React.createElement(TextField, {\n    fullWidth: true,\n    placeholder: \" Enter Email\",\n    name: \"email\",\n    type: \"email\",\n    required: true,\n    variant: \"outlined\",\n    value: formData.email,\n    onChange: handleInputChange,\n    error: !!errors.email,\n    sx: {\n      \"& .MuiOutlinedInput-root\": {\n        \"&.Mui-focused .MuiOutlinedInput-notchedOutline\": {\n          borderColor: \"rgba(0, 0, 0, 0.5)\"\n        },\n        \"&:hover .MuiOutlinedInput-notchedOutline\": {\n          borderColor: \"rgba(0, 0, 0, 0.5)\"\n        },\n        \"& .MuiOutlinedInput-notchedOutline\": {\n          borderColor: \"rgba(0, 0, 0, 0.5)\"\n        }\n      }\n    }\n  }), errors.email && /*#__PURE__*/React.createElement(Typography, {\n    color: \"error\"\n  }, errors.email)), /*#__PURE__*/React.createElement(Box, {\n    mb: 5\n  }, /*#__PURE__*/React.createElement(TextField, {\n    fullWidth: true,\n    placeholder: \"Enter Password\",\n    name: \"password\",\n    type: \"password\",\n    required: true,\n    value: formData.password,\n    onChange: handleInputChange,\n    error: !!errors.password,\n    sx: {\n      \"& .MuiOutlinedInput-root\": {\n        \"&.Mui-focused .MuiOutlinedInput-notchedOutline\": {\n          borderColor: \"rgba(0, 0, 0, 0.5)\"\n        },\n        \"&:hover .MuiOutlinedInput-notchedOutline\": {\n          borderColor: \"rgba(0, 0, 0, 0.5)\"\n        },\n        \"& .MuiOutlinedInput-notchedOutline\": {\n          borderColor: \"rgba(0, 0, 0, 0.5)\"\n        }\n      }\n    }\n  }), errors.password && /*#__PURE__*/React.createElement(Typography, {\n    color: \"error\"\n  }, errors.password)), /*#__PURE__*/React.createElement(Box, {\n    mt: 2\n  }, /*#__PURE__*/React.createElement(Button, {\n    fullWidth: true,\n    type: \"submit\",\n    variant: \"contained\",\n    sx: {\n      backgroundColor: '#EE8832',\n      fontSize: '18px',\n      fontWeight: 'bold',\n      letterSpacing: '2px',\n      textTransform: 'none',\n      padding: '10px',\n      '&:hover': {\n        backgroundColor: '#EE8832',\n        color: 'white'\n      }\n    }\n  }, \"Login\")))))), /*#__PURE__*/React.createElement(ToastContainer, null));\n};\nexport default LoginForm;","map":{"version":3,"names":["React","useState","axios","loginAction","useNavigate","TextField","Button","Typography","Box","Grid","ToastContainer","toast","useDispatch","useSelector","LoginForm","navigate","dispatch","authState","state","loginReducer","user","console","log","localStorage","getItem","_useState","email","password","_useState2","_slicedToArray","formData","setFormData","_useState3","_useState4","errors","setErrors","handleInputChange","e","_e$target","target","name","value","_objectSpread","handleSubmit","preventDefault","formIsValid","newErrors","trim","test","length","createElement","Fragment","container","justifyContent","alignItems","sx","height","item","xs","sm","md","lg","boxShadow","padding","borderRadius","textAlign","mb","variant","fontWeight","color","onSubmit","fullWidth","placeholder","type","required","onChange","error","borderColor","mt","backgroundColor","fontSize","letterSpacing","textTransform"],"sources":["/home/actimize/Music/survey_app_original/app/javascript/components/LoginForm.js"],"sourcesContent":["import React, { useState } from 'react';\nimport axios from 'axios';\nimport { loginAction } from '../redux/actions/action';\nimport { useNavigate } from 'react-router-dom';\nimport { TextField, Button, Typography, Box, Grid } from '@mui/material';\nimport { ToastContainer, toast } from 'react-toastify';\nimport 'react-toastify/dist/ReactToastify.css';\nimport { useDispatch, useSelector } from 'react-redux';\n\nconst LoginForm = () => {\n  const navigate = useNavigate();\n  const dispatch = useDispatch();\n  const authState = useSelector((state) => state.loginReducer.user);\n     console.log(localStorage.getItem('token') )\n\n     console.log(localStorage.getItem('userType') )\n     console.log(localStorage.getItem('username') )\n  console.log(\"login data\", authState);\n  const [formData, setFormData] = useState({ email: '', password: '' });\n  const [errors, setErrors] = useState({ email: '', password: '' });\n\n\n  const handleInputChange = (e) => {\n    const { name, value } = e.target;\n    setFormData({ ...formData, [name]: value });\n    setErrors({ ...errors, [name]: '' });\n  };\n\n  const handleSubmit = async (e) => {\n    e.preventDefault();\n    let formIsValid = true;\n    const newErrors = { email: '', password: '' };\n\n    if (!formData.email.trim()) {\n      newErrors.email = 'Email is required';\n      formIsValid = false;\n    } else if (!/\\S+@\\S+\\.\\S+/.test(formData.email)) {\n      newErrors.email = 'Email is invalid';\n      formIsValid = false;\n    }\n\n    if (!formData.password.trim()) {\n      newErrors.password = 'Password is required';\n      formIsValid = false;\n    } else if (formData.password.length < 4) {\n      newErrors.password = 'Password must be at least 4 characters long';\n      formIsValid = false;\n    }\n\n    setErrors(newErrors);\n    if (formIsValid) {\n      console.log(\"form valid\")\n      dispatch(loginAction(formData,navigate));\n    }\n\n  }\n \n  \n\n\n  \n  return (\n    <>\n      <Grid container justifyContent=\"center\" alignItems=\"center\" sx={{ height: '100vh' }}>\n        <Grid item xs={12} sm={8} md={6} lg={3.5}>\n          <Box sx={{ boxShadow: '5px 4px 8px 5px rgba(0, 0, 0, 0.2)', padding: '80px 30px', borderRadius: '10px' }}>\n            <Box sx={{ textAlign: 'center', mb: '20px' }}>\n              <Typography variant=\"h4\" sx={{ fontWeight: '700', color: '#EE8832' }}>\n                Sign in\n              </Typography>\n            </Box>\n            <form onSubmit={handleSubmit}>\n              <Box mb={3}>\n                <TextField\n                  fullWidth\n                  placeholder=\" Enter Email\"\n                  name=\"email\"\n                  type=\"email\"\n                  required\n                  variant=\"outlined\"\n                  value={formData.email}\n                  onChange={handleInputChange}\n                  error={!!errors.email}\n                  sx={{\n                    \"& .MuiOutlinedInput-root\": {\n                      \"&.Mui-focused .MuiOutlinedInput-notchedOutline\": {\n                        borderColor: \"rgba(0, 0, 0, 0.5)\",\n                      },\n                      \"&:hover .MuiOutlinedInput-notchedOutline\": {\n                        borderColor: \"rgba(0, 0, 0, 0.5)\",\n                      },\n                      \"& .MuiOutlinedInput-notchedOutline\": {\n                        borderColor: \"rgba(0, 0, 0, 0.5)\",\n                      }\n                    }\n                  }}\n                />\n                {errors.email && <Typography color=\"error\">{errors.email}</Typography>}\n              </Box>\n              <Box mb={5}>\n                <TextField\n                  fullWidth\n                  placeholder=\"Enter Password\"\n                  name=\"password\"\n                  type=\"password\"\n                  required\n                  value={formData.password}\n                  onChange={handleInputChange}\n                  error={!!errors.password}\n                  sx={{\n                    \"& .MuiOutlinedInput-root\": {\n                      \"&.Mui-focused .MuiOutlinedInput-notchedOutline\": {\n                        borderColor: \"rgba(0, 0, 0, 0.5)\",\n                      },\n                      \"&:hover .MuiOutlinedInput-notchedOutline\": {\n                        borderColor: \"rgba(0, 0, 0, 0.5)\",\n                      },\n                      \"& .MuiOutlinedInput-notchedOutline\": {\n                        borderColor: \"rgba(0, 0, 0, 0.5)\",\n                      }\n                    }\n                  }}\n                />\n                {errors.password && <Typography color=\"error\">{errors.password}</Typography>}\n              </Box>\n              <Box mt={2}>\n                <Button\n                  fullWidth\n                  type=\"submit\"\n                  variant=\"contained\"\n                  sx={{ backgroundColor: '#EE8832', fontSize: '18px', fontWeight: 'bold', letterSpacing: '2px', textTransform: 'none', padding: '10px', '&:hover': { backgroundColor: '#EE8832', color: 'white', } }}\n                >\n                  Login\n                </Button>\n              </Box>\n            </form>\n          </Box>\n        </Grid>\n      </Grid>\n      <ToastContainer />\n    </>\n  );\n};\n\nexport default LoginForm;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}
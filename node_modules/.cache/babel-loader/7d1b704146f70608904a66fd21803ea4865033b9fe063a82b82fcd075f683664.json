{"ast":null,"code":"import { toast } from 'react-toastify';\nimport { FETCH_ALL_VOTERS_REQUEST, FETCH_ALL_VOTERS_SUCCESS, FETCH_ALL_VOTERS_FAILURE, SEARCH_BY_NAME_REQUEST, SEARCH_BY_NAME_SUCCESS, SEARCH_BY_NAME_FAILURE, FILTER_BY_CASTED_STATUS_REQUEST, FILTER_BY_CASTED_STATUS_SUCCESS, FILTER_BY_CASTED_STATUS_FAILURE, UPDATE_VOTER_REQUEST, UPDATE_VOTER_SUCCESS, UPDATE_VOTER_FAILURE, FETCH_CONSISTENCY_NAMES_REQUEST, FETCH_CONSISTENCY_NAMES_SUCCESS, FETCH_CONSISTENCY_NAMES_FAILURE, FETCH_BOOTH_NAMES_REQUEST, FETCH_BOOTH_NAMES_SUCCESS, FETCH_BOOTH_NAMES_FAILURE, LOGIN_REQUEST, LOGIN_SUCCESS, LOGIN_FAILURE } from './actionTypes';\nimport { fetchAllVotersData, searchByNameData, filterByCastedStatusData, updateVoter, fetchConsistencyNamesData, fetchBoothNamesData, loginData } from '../api/getData';\nimport axios from 'axios';\nexport const fetchAllVotersAction = (page = 1, boothName) => {\n  console.log(\"action all voters data\", boothName);\n  return async dispatch => {\n    dispatch({\n      type: FETCH_ALL_VOTERS_REQUEST\n    });\n    try {\n      const data = await fetchAllVotersData(page, boothName);\n      console.log(\"api\", data);\n      dispatch({\n        type: FETCH_ALL_VOTERS_SUCCESS,\n        payload: data\n      });\n      console.log(\"redux fetch\", data);\n    } catch (error) {\n      dispatch({\n        type: FETCH_ALL_VOTERS_FAILURE,\n        payload: error.message\n      });\n    }\n  };\n};\nexport const searchByNameAction = (searchName, boothName) => {\n  console.log(\"name in action ===============>\", searchName, boothName);\n  return async dispatch => {\n    dispatch({\n      type: SEARCH_BY_NAME_REQUEST\n    });\n    try {\n      const data = await searchByNameData(searchName, boothName);\n      dispatch({\n        type: SEARCH_BY_NAME_SUCCESS,\n        payload: data\n      });\n    } catch (error) {\n      dispatch({\n        type: SEARCH_BY_NAME_FAILURE,\n        payload: error.message\n      });\n    }\n  };\n};\nexport const filterByCastedStatusAction = (casted, page = 1, boothName) => {\n  console.log(\"casted status in action------------------>\", casted, page, boothName);\n  return async dispatch => {\n    dispatch({\n      type: FILTER_BY_CASTED_STATUS_REQUEST\n    });\n    try {\n      const data = await filterByCastedStatusData(casted, page, boothName);\n      dispatch({\n        type: FILTER_BY_CASTED_STATUS_SUCCESS,\n        payload: data\n      });\n    } catch (error) {\n      dispatch({\n        type: FILTER_BY_CASTED_STATUS_FAILURE,\n        payload: error.message\n      });\n    }\n  };\n};\nexport const updateVoterAction = (voterId, updatedFields) => {\n  console.log(\"this is action for update\", updatedFields);\n  return async dispatch => {\n    dispatch({\n      type: UPDATE_VOTER_REQUEST\n    });\n    try {\n      const data = await updateVoter(voterId, updatedFields);\n      console.log('Voter updated successfully:', data);\n      dispatch({\n        type: UPDATE_VOTER_SUCCESS,\n        payload: data\n      });\n    } catch (error) {\n      console.error('Error updating voter:', error);\n      dispatch({\n        type: UPDATE_VOTER_FAILURE,\n        payload: error.message\n      });\n    }\n  };\n};\nexport const fetchConsistencyNamesAction = name => {\n  console.log(\"in action\", name);\n  return async dispatch => {\n    dispatch({\n      type: FETCH_CONSISTENCY_NAMES_REQUEST\n    });\n    try {\n      const data = await fetchConsistencyNamesData(name);\n      dispatch({\n        type: FETCH_CONSISTENCY_NAMES_SUCCESS,\n        payload: data\n      });\n    } catch (error) {\n      dispatch({\n        type: FETCH_CONSISTENCY_NAMES_FAILURE,\n        payload: error.message\n      });\n    }\n  };\n};\nexport const fetchBoothNamesAction = name => {\n  console.log(\"Action in booth\", name);\n  return async dispatch => {\n    dispatch({\n      type: FETCH_BOOTH_NAMES_REQUEST\n    });\n    try {\n      const data = await fetchBoothNamesData(name);\n      console.log(\"booth data -->\", data);\n      dispatch({\n        type: FETCH_BOOTH_NAMES_SUCCESS,\n        payload: data\n      });\n      console.log(\"redux booth name -->\", data);\n    } catch (error) {\n      dispatch({\n        type: FETCH_BOOTH_NAMES_FAILURE,\n        payload: error.message\n      });\n    }\n  };\n};\nexport const loginAction = (formData, navigate) => {\n  console.log(\"Login action triggered with formData:\", formData);\n  return async dispatch => {\n    dispatch({\n      type: LOGIN_REQUEST\n    });\n    try {\n      const data = await loginData(formData);\n      console.log(\"Login API response:\", data);\n      if (data.status === 200) {\n        localStorage.setItem('userType', data.data.user_type);\n        localStorage.setItem('token', data.data.token);\n        localStorage.setItem('name', data.data.username);\n        if (localStorage.getItem('userType') === 'volunteer') {\n          navigate('/VolunteerData');\n        } else {\n          navigate('/LeadData');\n        }\n        dispatch({\n          type: LOGIN_SUCCESS,\n          payload: data\n        });\n      }\n    } catch (error) {\n      console.error(\"Login error:\", error);\n      toast.error('Invalid email or password');\n      dispatch({\n        type: LOGIN_FAILURE,\n        payload: error.message\n      });\n    }\n  };\n};","map":{"version":3,"names":["toast","FETCH_ALL_VOTERS_REQUEST","FETCH_ALL_VOTERS_SUCCESS","FETCH_ALL_VOTERS_FAILURE","SEARCH_BY_NAME_REQUEST","SEARCH_BY_NAME_SUCCESS","SEARCH_BY_NAME_FAILURE","FILTER_BY_CASTED_STATUS_REQUEST","FILTER_BY_CASTED_STATUS_SUCCESS","FILTER_BY_CASTED_STATUS_FAILURE","UPDATE_VOTER_REQUEST","UPDATE_VOTER_SUCCESS","UPDATE_VOTER_FAILURE","FETCH_CONSISTENCY_NAMES_REQUEST","FETCH_CONSISTENCY_NAMES_SUCCESS","FETCH_CONSISTENCY_NAMES_FAILURE","FETCH_BOOTH_NAMES_REQUEST","FETCH_BOOTH_NAMES_SUCCESS","FETCH_BOOTH_NAMES_FAILURE","LOGIN_REQUEST","LOGIN_SUCCESS","LOGIN_FAILURE","fetchAllVotersData","searchByNameData","filterByCastedStatusData","updateVoter","fetchConsistencyNamesData","fetchBoothNamesData","loginData","axios","fetchAllVotersAction","page","boothName","console","log","dispatch","type","data","payload","error","message","searchByNameAction","searchName","filterByCastedStatusAction","casted","updateVoterAction","voterId","updatedFields","fetchConsistencyNamesAction","name","fetchBoothNamesAction","loginAction","formData","navigate","status","localStorage","setItem","user_type","token","username","getItem"],"sources":["/home/actimize/Music/survey_app_deploy/app/javascript/redux/actions/action.js"],"sourcesContent":["import { toast } from 'react-toastify';\nimport { \n  FETCH_ALL_VOTERS_REQUEST, FETCH_ALL_VOTERS_SUCCESS, FETCH_ALL_VOTERS_FAILURE, \n  SEARCH_BY_NAME_REQUEST, SEARCH_BY_NAME_SUCCESS, SEARCH_BY_NAME_FAILURE, \n  FILTER_BY_CASTED_STATUS_REQUEST, FILTER_BY_CASTED_STATUS_SUCCESS, FILTER_BY_CASTED_STATUS_FAILURE ,UPDATE_VOTER_REQUEST,\n  UPDATE_VOTER_SUCCESS,\n  UPDATE_VOTER_FAILURE,\n  FETCH_CONSISTENCY_NAMES_REQUEST,\n  FETCH_CONSISTENCY_NAMES_SUCCESS,\n  FETCH_CONSISTENCY_NAMES_FAILURE,\n  FETCH_BOOTH_NAMES_REQUEST, FETCH_BOOTH_NAMES_SUCCESS, FETCH_BOOTH_NAMES_FAILURE,\n   LOGIN_REQUEST, LOGIN_SUCCESS, LOGIN_FAILURE \n} from './actionTypes';\nimport { fetchAllVotersData, searchByNameData, filterByCastedStatusData, updateVoter,fetchConsistencyNamesData, fetchBoothNamesData,loginData } from '../api/getData'; \nimport axios from 'axios';\nexport const fetchAllVotersAction = (page = 1,boothName) => {\n \n  console.log(\"action all voters data\",boothName);\n  return async (dispatch) => {\n    dispatch({ type: FETCH_ALL_VOTERS_REQUEST });\n    try {\n      const data = await fetchAllVotersData(page,boothName);\n       console.log(\"api\",data)\n      dispatch({ type: FETCH_ALL_VOTERS_SUCCESS, payload: data });\n        console.log(\"redux fetch\",data)\n    } catch (error) {\n      dispatch({ type: FETCH_ALL_VOTERS_FAILURE, payload: error.message });\n\n    }\n  };\n};\n\nexport const searchByNameAction = (searchName,boothName) => {\n  console.log(\"name in action ===============>\",searchName,boothName);\n  return async (dispatch) => {\n    dispatch({ type: SEARCH_BY_NAME_REQUEST });\n    try {\n      const data = await searchByNameData(searchName,boothName); \n      dispatch({ type: SEARCH_BY_NAME_SUCCESS, payload: data });\n\n    } catch (error) {\n      dispatch({ type: SEARCH_BY_NAME_FAILURE, payload: error.message });\n    }\n  };\n};\n\nexport const filterByCastedStatusAction = (casted, page = 1, boothName) => {\n  console.log(\"casted status in action------------------>\", casted,page, boothName);\n  \n  return async (dispatch) => {\n    dispatch({ type: FILTER_BY_CASTED_STATUS_REQUEST });\n    try {\n      const data = await filterByCastedStatusData(casted, page, boothName);\n      dispatch({ type: FILTER_BY_CASTED_STATUS_SUCCESS, payload: data });\n    } catch (error) {\n      dispatch({ type: FILTER_BY_CASTED_STATUS_FAILURE, payload: error.message });\n    }\n  };\n};\n\n\nexport const updateVoterAction = (voterId, updatedFields) => {\n  console.log(\"this is action for update\",updatedFields)\n  return async (dispatch) => {\n    dispatch({ type: UPDATE_VOTER_REQUEST });\n    try {\n      const data = await updateVoter(voterId, updatedFields); \n      console.log('Voter updated successfully:', data);\n      dispatch({ type: UPDATE_VOTER_SUCCESS, payload: data });\n    } catch (error) {\n      console.error('Error updating voter:', error);\n      dispatch({ type: UPDATE_VOTER_FAILURE, payload: error.message });\n    }\n  };\n};\n\nexport const fetchConsistencyNamesAction = (name) => {\n  console.log(\"in action\",name);\n  return async (dispatch) => {\n    dispatch({ type: FETCH_CONSISTENCY_NAMES_REQUEST });\n    try {\n      const data = await fetchConsistencyNamesData(name);\n      dispatch({ type: FETCH_CONSISTENCY_NAMES_SUCCESS, payload: data });\n    } catch (error) {\n      dispatch({ type: FETCH_CONSISTENCY_NAMES_FAILURE, payload: error.message });\n    }\n  };\n};\n\nexport const fetchBoothNamesAction = (name) => {\n  console.log(\"Action in booth\",name);\n  return async (dispatch) => {\n    dispatch({ type: FETCH_BOOTH_NAMES_REQUEST });\n    try {\n      const data = await fetchBoothNamesData(name);\n      console.log(\"booth data -->\",data)\n      dispatch({ type: FETCH_BOOTH_NAMES_SUCCESS, payload: data });\n      console.log(\"redux booth name -->\",data)\n    } catch (error) {\n      dispatch({ type: FETCH_BOOTH_NAMES_FAILURE, payload: error.message });\n    }\n  };\n};\n\nexport const loginAction = (formData, navigate) => {\n  console.log(\"Login action triggered with formData:\", formData);\n  return async (dispatch) => {\n    dispatch({ type: LOGIN_REQUEST });\n    try {\n      const data = await loginData(formData);\n      console.log(\"Login API response:\", data);\n      \n      if (data.status === 200) {\n        localStorage.setItem('userType', data.data.user_type);\n        localStorage.setItem('token', data.data.token);\n        localStorage.setItem('name', data.data.username);\n\n        if (localStorage.getItem('userType') === 'volunteer') {\n          navigate('/VolunteerData');\n        } else {\n          navigate('/LeadData');\n        }\n\n        dispatch({ type: LOGIN_SUCCESS, payload: data });\n      } \n    } catch (error) {\n      console.error(\"Login error:\", error);\n      toast.error('Invalid email or password'); \n      dispatch({ type: LOGIN_FAILURE, payload: error.message });\n    }\n  };\n};\n\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}